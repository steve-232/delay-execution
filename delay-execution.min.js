"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var DelayExecution=function e(i){var s=this,t=i.elem,n=void 0===t?null:t,o=i.func,l=void 0===o?null:o,r=i.direction,c=void 0===r?"v":r,a=i.parent,d=void 0===a?window:a,u=i.pixelDelay,f=void 0===u?0:u,m=i.timeDelay,w=void 0===m?0:m,h=i.includeElemHeight,g=void 0===h||h,v=i.debounce,p=void 0===v?500:v;if(_classCallCheck(this,e),_defineProperty(this,"getElemPosition",function(){var e=s.settings,i=e.elem,t=e.direction,n=e.includeElemHeight,o=e.pixelDelay;s.elemPosition=("v"===t?i.offsetTop:i.offsetLeft)+o,n&&(s.elemPosition+=i.offsetHeight)}),_defineProperty(this,"getParentPosition",function(){var e=s.settings,i=e.direction,t=e.parent;return"v"!==i?"Window"===t.constructor.name?window.innerWidth+window.scrollX:t.clientWidth+t.scrollLeft:"Window"===t.constructor.name?window.innerHeight+window.scrollY:t.clientHeight+t.scrollTop}),_defineProperty(this,"checkPosition",function(){var e=s.settings,i=e.func,t=e.timeDelay,n=e.parent;s.getParentPosition()>=s.elemPosition&&(n.removeEventListener("scroll",s.checkPosition),n.removeEventListener("resize",s.followWindowResizing),setTimeout(i,t))}),_defineProperty(this,"followWindowResizing",function(){clearTimeout(s.followWindowResizingTimeout),s.followWindowResizingTimeout=setTimeout(s.getElemPosition,s.settings.debounce)}),!(n instanceof HTMLElement))throw new TypeError('"elem" is not HTMLElement');if(!(l instanceof Function))throw new TypeError('"func" is not Function');this.settings={elem:n,func:l,direction:c,parent:d,pixelDelay:f,timeDelay:w,includeElemHeight:g,debounce:p},"Window"!==d.constructor.name&&"static"===getComputedStyle(d).getPropertyValue("position")&&(d.style.position="relative"),d.addEventListener("scroll",this.checkPosition),this.getElemPosition(),this.checkPosition(),d.addEventListener("resize",this.followWindowResizing)};